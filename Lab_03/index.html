<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebGL Example</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <h1 style="color: rgb(165, 26, 91); font-size: xx-large;">2D AFINE TRANSFORMATION</h1>
    <div id="main_zone">
        <canvas id="canvas"></canvas>
        <div id="uiContainer">
            <select id="myDropdown" name="options">
                <option value="heart" selected>Heart</option>
                <option value="benzier">Benzier</option>
                <option value="hermit">Hermit</option>
                <option value="flower">Flower</option>
            </select>
            <div style="width: 300px; margin: 50px auto; text-align: center;">
                <input type="range" id="slider" min="1" max="500" value="1">
                <p>Giá trị: <span id="sliderValue">1</span></p>
            </div>
            
            <textarea id="text_area" onfocus="this.setSelectionRange(this.value.length, this.value.length)"></textarea>
            <div style="display: flex; flex-direction: column; width: 100%;"> 
                <div>
                    <p>Point A</p>
                    <div style="display: flex; flex-direction: row; justify-content: space-evenly; align-items: center;">
                        <div style="width: 30%; height: 30px; display: flex; flex-direction: row;">
                            <p style="margin-left: 5px; margin-right:  5px; align-self: center;">X</p>
                            <textarea style="font-size : 18px ; margin-left: 5px; margin-right:  5px;" id="point_a_x"></textarea>
                        </div>
                        <div style="width: 30%; height: 30px; display: flex; flex-direction: row;">
                            <p style="margin-left: 5px; margin-right:  5px; align-self: center;">Y</p>
                            <textarea style="font-size : 18px ;margin-left: 5px; margin-right:  5px;" id="point_a_y"></textarea>
                        </div>
                    </div>
                    
                </div>
                <div>
                    <p>Point B</p>
                    <div style="display: flex;  flex-direction: row; justify-content: space-evenly; align-items: center;">
                        <div style="width: 30%; height: 30px; display: flex; flex-direction: row;">
                            <p style="margin-left: 5px; margin-right:  5px; align-self: center;">X</p>
                            <textarea style="font-size : 18px ; margin-left: 5px;; margin-right:  5px;" id="point_b_x"></textarea>
                        </div>
                        <div style="width: 30%; height: 30px; display: flex; flex-direction: row;">
                            <p style="margin-left: 5px; margin-right:  5px; align-self: center;">Y</p>
                            <textarea style="font-size : 18px ;margin-left: 5px; margin-right:  5px;" id="point_b_y"></textarea>
                        </div>
                    </div>
                </div>
                <div>
                    <p>Vector A</p>
                    <div style="display: flex;  flex-direction: row; justify-content: space-evenly; align-items: center;">
                        <div style="width: 30%; height: 30px; display: flex; flex-direction: row;">
                            <p style="margin-left: 5px; margin-right:  5px; align-self: center;">X</p>
                            <textarea style="font-size : 18px ;margin-left: 5px; margin-right:  5px;" id="vector_a_x"></textarea>
                        </div>
                        <div style="width: 30%; height: 30px; display: flex; flex-direction: row;">
                            <p style="margin-left: 5px; margin-right:  5px; align-self: center;">Y</p>
                            <textarea style="font-size : 18px ;margin-left: 5px; margin-right:  5px;" id="vector_a_y"></textarea>
                        </div>
                    </div>
                </div>
                <div>
                    <p>Vector B</p>
                    <div style="display: flex;  flex-direction: row; justify-content: space-evenly; align-items: center;">
                        <div style="width: 30%; height: 30px; display: flex; flex-direction: row;">
                            <p style="margin-left: 5px; margin-right:  5px; align-self: center;">X</p>
                            <textarea style="font-size : 18px ; margin-left: 5px; margin-right:  5px;" id="vector_b_x"></textarea>
                        </div>
                        <div style="width: 30%; height: 30px; display: flex; flex-direction: row;">
                            <p style="margin-left: 5px; margin-right:  5px; align-self: center;">Y</p>
                            <textarea style="font-size : 18px ; margin-left: 5px; margin-right:  5px;" id="vector_b_y"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            
            
        </div>
        
          
    </div>
    
    <div>

    </div>
    
    <!-- vertex shader -->
    <script id="vertex-shader-2d" type="x-shader/x-vertex">
        attribute vec2 a_position;

        uniform vec2 u_resolution;
        uniform vec2 u_translation;
        uniform vec2 u_rotation;

        uniform vec2 u_scale;

        void main() {
            // Scale
            vec2 scaledPosition = a_position * u_scale;
            
            // Rotate the position
            vec2 rotatedPosition = vec2(
                scaledPosition.x * u_rotation.y + scaledPosition.y * u_rotation.x,
                scaledPosition.y * u_rotation.y - scaledPosition.x * u_rotation.x
            );

            // Add in the translation.
            vec2 position = rotatedPosition + u_translation;

            // convert the position from pixels to 0.0 to 1.0
            vec2 zeroToOne = position / u_resolution;

            // convert from 0->1 to 0->2
            vec2 zeroToTwo = zeroToOne * 2.0;

            // convert from 0->2 to -1->+1 (clipspace)
            vec2 clipSpace = zeroToTwo - 1.0;

            gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);
        }
    </script>
    <!-- fragment shader -->
    <script id="fragment-shader-2d" type="x-shader/x-fragment">
        precision mediump float;

        uniform vec4 u_color;

        void main() 
        {
            gl_FragColor = u_color;
        }
    </script>
    
    <script src="js/webgl-utils.js"></script>
    <script src="js/webgl-lessons-ui.js"></script>
    <script type="module"  src="js/draw.js"></script>
   
</body>
</html>


